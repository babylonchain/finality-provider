# Configuration

### Using `valcli` and `eotscli` for Daemon Configuration

The `valcli` and `eotscli` tools serve as control planes for the
Validator Daemon (`vald`) and EOTS Daemon (`eotsd`) respectively.
These tools allow to configure various settings and parameters.
Below we explore how to configure the daemons.

### 1. EOTS daemon (`eotsd`) configuration:

The `eotscli admin dump-config` command initializes a home directory
for the EOTS manager under the default home directory or the directory
specified by the `--config-file-dir` flag.

```bash
$ eotscli admin dump-config --config-file-dir /path/to/eotsd-home/
```

After initialization, the home directory will contain
the following directories
```bash
$ ls /path/to/eotsd-home/
  ├── eotsd.conf # Eotsd-specific configuration file.
```

If the `--config-file-dir` flag is not specified,
then the default home directory will be used.
For different operating systems those are:
- **MacOS** `~/Library/Application Support/Eotsd`
- **Linux** `~/.Eotsd`
- **Windows** `C:\Users\<username>\AppData\Local\Eotsd`

Below are some of important parameters in the `eotsd.conf` file.
```bash
# Path to EOTSD configuration file
ConfigFile = /Users/John/Library/Application Support/Eotsd/eotsd.conf

# Default address to listen for RPC connections:
RpcListener = localhost:15813
```

### 2. Validator daemon (`vald`) configuration

The `valcli admin dump-config` command initializes a home directory
for the BTC validator under the default home directory or the directory
specified by the `--config-file-dir` flag.

```bash
$ valcli admin dump-config --config-file-dir /path/to/vald-home/
```

After initialization, the home directory will contain
the following directories
```bash
$ ls /path/to/vald-home/
    ├── data      # Contains Vald-specific data.
    ├── logs      # Contains logs generated by Vald.
    └── vald.conf # Vald-specific configuration file.
```

If the `--config-file-dir` flag is not specified,
then the default home directory will be used.
For different operating systems those are:
- **MacOS** `~/Library/Application Support/Vald`
- **Linux** `~/.Vald`
- **Windows** `C:\Users\<username>\AppData\Local\Vald`

Below are some important parameters of the `vald.conf` file.
TODO:
**Note:** The `Key` parameter is the name of the key in the keyring to use for signing transactions.
You can create a key and request funds from the faucet by following the instructions in the [Babylon
documentation](https://docs.babylonchain.io/docs/user-guides/btc-timestamping-testnet/getting-funds)
- Explanation why a keyring is needed
  - We need a keyring with loaded funds as we need to pay for transactions
  - transactions include randomness commits and vote submissions
  - See BLS docs for an explanation on this
  - https://docs.babylonchain.io/docs/user-guides/btc-timestamping-testnet/become-validator#1-create-a-keyring-and-get-funds
- Explanation why we expect the keyring to be unencrypted
  - The keyring needs to be unlocked all the time as it is used to create transactions
- Creation of a keyring specifying keyring backend and for the key inside it
  (use `--keyring-backend test` and `--key-name "validator-key"`)
- Specification of key name, keyring-backend, and other stuff on the configuration
```bash
# Address of the EOTS Daemon
EOTSManagerAddress = 127.0.0.1:15813

# Babylon specific parameters

# Name of the key in the keyring to use for signing transactions:
Key = node0

# Address of the RPC server:
RPCAddr = http://localhost:26657
```

To see the complete list of configuration options,
access the comments in the `vald.conf` file.
